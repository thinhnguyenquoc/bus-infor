<!DOCTYPE html>
<html>
  <head>
    <title>Encoding methods</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <style>
      #right-panel {
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
      }

      #right-panel select, #right-panel input {
        font-size: 15px;
      }

      #right-panel select {
        width: 100%;
      }

      #right-panel i {
        font-size: 12px;
      }
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 100%;
        width: 50%;
        float: left;
      }
      #right-panel {
        width: 46%;
        float: left;
      }
      #encoded-polyline {
        height: 100px;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <div id="right-panel">
      <div>Encoding:</div>
      <textarea id="encoded-polyline"></textarea>
    </div>
	<script src="E:\busCrawler\MvcApplication2\Scripts\polyline.js">
	</script>
    <script>
      // This example requires the Geometry library. Include the libraries=geometry
      // parameter when you first load the API. For example:
      // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=geometry">

      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 14,
          center: {lat: 34.366, lng: -89.519}
        });
        var poly = new google.maps.Polyline({
          strokeColor: '#000000',
          strokeOpacity: 1,
          strokeWeight: 3,
          map: map
        });

        // Add a listener for the click event
        google.maps.event.addListener(map, 'click', function(event) {
          addLatLngToPoly(event.latLng, poly);
        });
      }

      /**
       * Handles click events on a map, and adds a new point to the Polyline.
       * Updates the encoding text area with the path's encoded values.
       */
      function addLatLngToPoly(latLng, poly) {
        var path = [];
        // Because path is an MVCArray, we can simply append a new coordinate
        // and it will automatically appear
		var arr = [[106.637001,10.769188],[106.636805,10.769261],[106.636335,10.769428],[106.636215,10.769475],[106.636113,10.769515],[106.635974,10.76957],[106.635547,10.769596],[106.635261,10.769572]];
		var arr = [[106.636909,10.787653],[106.637035,10.7885],[106.637149,10.789136],[106.637202,10.789436],[106.637352,10.79027],[106.637406,10.790591],[106.6375,10.791202]];
		var arr = [[106.6375,10.791202],[106.637557,10.791569],[106.637687,10.792258],[106.637754,10.792697],[106.63784,10.793145],[106.637961,10.793902],[106.638053,10.794484]];
		var arr = [[106.638053,10.794484],[106.638115,10.794878],[106.63814,10.795055],[106.638228,10.795541],[106.638298,10.795616]];
		var arr = [[106.638298,10.795616],[106.638378,10.795644],[106.638429,10.795675],[106.638574,10.795721],[106.63867,10.795766],[106.638748,10.795816],[106.638831,10.795876],[106.638971,10.795966],[106.63903,10.795997],[106.639075,10.796019],[106.639148,10.796045],[106.639343,10.796084],[106.639413,10.796095],[106.639482,10.796087],[106.63963,10.796032],[106.639618,10.795976]];
		var arr = [[106.639618,10.795976],[106.63963,10.796032],[106.639877,10.79595],[106.640059,10.795889],[106.640122,10.795865],[106.640827,10.795603],[106.640715,10.795178],[106.64061,10.794817],[106.64055,10.794622]];
		var arr = [[106.64055,10.794622],[106.640514,10.79449],[106.640325,10.793836],[106.640298,10.793731],[106.640216,10.793407],[106.640183,10.793311],[106.640997,10.792984]];
		var arr = [[106.640997,10.792984],[106.641925,10.792614],[106.642943,10.792187],[106.643246,10.792059]];
		var arr = [[106.643246,10.792059],[106.643842,10.791809],[106.643984,10.791811],[106.644162,10.792279],[106.644248,10.79249]];
		var arr = [[106.712744,10.813858],[106.712814,10.814478],[106.712822,10.814661],[106.712927,10.815677],[106.7131,10.817024],[106.713143,10.817352],[106.713067,10.817391],[106.713018,10.817404],[106.712954,10.817404],[106.7129,10.817398],[106.711962,10.81721],[106.711658,10.816917],[106.71156,10.816849],[106.711186,10.816538],[106.710926,10.816085],[106.711031,10.815924],[106.711089,10.815835],[106.710686,10.815025]];
		var result =  polyline.encode(arr);

        // Update the text field to display the polyline encodings
        var encodeString = google.maps.geometry.encoding.encodePath(path);

          document.getElementById('encoded-polyline').value = result;
        
      }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDRZrUxQikxZwfkMmwy9AqnkxvltaFZYss&libraries=places&callback=initMap"
        async defer></script>
  </body>
</html>