@model List<Bus_Info.ViewModels.ViewModelNews>
@{
    Layout = "";
    ViewBag.Title = "Thông Tin Xe Buýt";
    var baseUrl = new Uri(Request.Url, Url.Content("~")).AbsoluteUri;
    var helpUrl = baseUrl + "Help/Index";
    var routeUrl = baseUrl + "Route/Index";
    var stationUrl = baseUrl + "Station/Index";
}
@functions{ 
    public string genUrl(string baseUrl, int Id){
        return baseUrl+ "News/GetDetail?Id="+ Id.ToString();
    }
}
<!DOCTYPE HTML>
<html>
	<head>
		<title>Thông Tin Xe Buýt | Tin Tức</title>		
    <link href="~/Content/newsmain.css" rel="stylesheet" />
    <link href="~/Content/newsstyle.css" rel="stylesheet" />
    <link href="~/Content/font-awesome.min.css" rel="stylesheet" />
        <link href="~/Content/wysiwyg-color.css" rel="stylesheet" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		 <link rel="shortcut icon" href="~/Content/Images/Bus-48.ico">
		<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
		<!----webfonts---->
		<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800' rel='stylesheet' type='text/css'>
	
		<!---start-click-drop-down-menu----->
        <script src="../Scripts/Lib/jquery-1.10.2.min.js"></script>
        <script src="../Scripts/Lib/jquery.imagesloaded.js"></script>
        <script src="../Scripts/Lib/jquery.wookmark.js"></script>
		 
        <!----start-dropdown--->
         <script type="text/javascript">
             var $ = jQuery.noConflict();
             $(function () {
                 $('#activator').click(function () {
                     $('#box').animate({ 'top': '0px' }, 500);
                 });
                 $('#boxclose').click(function () {
                     $('#box').animate({ 'top': '-700px' }, 500);
                 });
             });
             $(document).ready(function () {
                 //Hide (Collapse) the toggle containers on load
                 $(".toggle_container").hide();
                 //Switch the "Open" and "Close" state per click then slide up/down (depending on open/close state)
                 $(".trigger").click(function () {
                     $(this).toggleClass("active").next().slideToggle("slow");
                     return false; //Prevent the browser jump to the link anchor
                 });

             });
		</script>
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-52891364-2', 'auto');
            ga('send', 'pageview');

    </script>
    <!-- Google Tag Manager -->
    <noscript>
        <iframe src="//www.googletagmanager.com/ns.html?id=GTM-TQHG3B"
                height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
            j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
            '//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-TQHG3B');</script>
    <!-- End Google Tag Manager -->
        <!----//End-dropdown--->
		<!---//End-click-drop-down-menu----->
	</head>
	<body>
		<!---start-wrap---->
			<!---start-header---->
			<div class="header">							
				<div class="wrap">
				<div class="logo">
					<a href="index.html"><img src="~/Content/Images/logo.jpg" /></a>
				</div>
				<div class="nav-icon">
					 <a href="#" class="right_bt" id="activator"><span> </span> </a>
				</div>
				 <div class="box" id="box">
					 <div class="box_content">        					                         
						<div class="box_content_center">
						 	<div class="form_content">
								<div class="menu_box_list">
									<ul>
										<li><a href="@baseUrl"><span>Tìm đường</span></a></li>
										<li><a href="@stationUrl"><span>Trạm</span></a></li>
										<li><a href="@routeUrl"><span>Tuyến</span></a></li>
										<li><a href="@helpUrl"><span>Hướng dẫn</span></a></li>
										<div class="clear"> </div>
									</ul>
								</div>
								<a class="boxclose" id="boxclose"> <span> </span></a>
							</div>                                  
						</div> 	
					</div> 
				</div>       	  
				<div class="top-searchbar">
					<form>
						<input type="text" /><input type="submit" value="" />
					</form>
				</div>
				<div class="userinfo">
					<!--div class="user">
						<ul>
							<li><a href="#"><img src="images/user-pic.png" title="user-name" /><span>Ipsum</span></a></li>
						</ul>
					</div-->
				</div>
				<div class="clear"> </div>
			</div>
		</div>
		<!---//End-header---->
		<!---start-content---->
		<div class="content">
			<div class="wrap">
			 <div id="main" role="main">
			      <ul id="tiles">
			        <!-- These are our grid blocks -->
                    @for (int i = 0; i < Model.Count; i++)
                    {                       
                            <li>
                                @if (!string.IsNullOrEmpty(Model[i].TopImage)) { 
                                <a href="@genUrl(baseUrl, Model[i].Id)"><img src="@Model[i].TopImage" width="200" height="200"></a>  
                                }                              
			        	    <div class="post-info">
			        		    <div class="post-basic-info">
				        		    <h3><a href="@genUrl(baseUrl, Model[i].Id)">@Model[i].Title</a></h3>
				        		    <span><a href="@genUrl(baseUrl, Model[i].Id)"><label> </label>@Model[i].Genre</a></span>
                                    <div style="font-size: 0.875em;	color: #B7B5B5;	margin: 0.6em 0; line-height: 1.5em;">
                                    <i class="fa fa-tags"></i><span> @Model[i].Tag</span>
                                    </div>
				        		    <p>@Html.Raw(Model[i].Description)</p>
			        		    </div>
			        		    <div class="post-info-rate-share">			        			   
                                    
			        			    <div class="clear"> </div>
			        		    </div>
			        	    </div>
			                </li>                       
                    }			       
			        <!-- End of grid blocks -->
			      </ul>
			    </div>
			</div>
		</div>
		
		<div class="footer">
			<p><a href="http://thongtinxebuyt.com">Thông Tin Xe Buýt</a></p>
		</div>
		<!----//End-footer--->
		<!---//End-wrap---->
         <script type="text/javascript">
             (function ($) {
                 var $tiles = $('#tiles'),
                     $handler = $('li', $tiles),
                     $main = $('#main'),
                     $window = $(window),
                     $document = $(document),
                     options = {
                         autoResize: true, // This will auto-update the layout when the browser window is resized.
                         container: $main, // Optional, used for some extra CSS styling
                         offset: 20, // Optional, the distance between grid items
                         itemWidth: 280 // Optional, the width of a grid item
                     };
                 /**
                  * Reinitializes the wookmark handler after all images have loaded
                  */
                 function applyLayout() {
                     $tiles.imagesLoaded(function () {
                         // Destroy the old handler
                         if ($handler.wookmarkInstance) {
                             $handler.wookmarkInstance.clear();
                         }

                         // Create a new layout handler.
                         $handler = $('li', $tiles);
                         $handler.wookmark(options);
                     });
                 }
                 /**
                  * When scrolled all the way to the bottom, add more tiles
                  */
                 function onScroll() {
                     // Check if we're within 100 pixels of the bottom edge of the broser window.
                     //var winHeight = window.innerHeight ? window.innerHeight : $window.height(), // iphone fix
                     //    closeToBottom = ($window.scrollTop() + winHeight > $document.height() - 100);

                     //if (closeToBottom) {
                     //  // Get the first then items from the grid, clone them, and add them to the bottom of the grid
                     //  var $items = $('li', $tiles),
                     //      $firstTen = $items.slice(0, 10);
                     //  $tiles.append($firstTen.clone());

                     //  applyLayout();
                     //}
                 };

                 // Call the layout function for the first time
                 applyLayout();

                 // Capture scroll event.
                 $window.bind('scroll.wookmark', onScroll);
             })(jQuery);
		  </script>
		
	</body>
</html>

